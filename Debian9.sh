#!/bin/bash
echo $(for sar in $(find /var/log/sysstat -type f | egrep -i '(bz|xz)'); do xzcat $sar | sar -r -f ; done | grep Average | tr -s ' ' | cut -d " " -f7 | awk '{ total += $1 } END { print total/NR/1024 }' ; for sar in $(find /var/log/sysstat -type f | egrep -i '(bz|xz)'); do xzcat $sar | sar -r -f ; done | grep Average | tr -s ' ' | cut -d " " -f7 | awk '{ total += $1 } END { print total/NR/1024 }') | tr ' ' '\n' | sort -nr | head -n 1 ;\
echo $(for sar in $(find /var/log/sysstat -type f | egrep -i '(bz|xz)'); do xzcat $sar | sar -r -f ; done | egrep -vi '(Average|kbcommit|Linux)' | tr -s ' ' | cut -d " " -f8 | sort -nr | head -n1 | awk '{ total += $1 } END { print total/NR/1024 }' ; for sar in $(find /var/log/sysstat -type f | grep 2016 | egrep -vi '(sar|bz|xz)'); do sar -r -f $sar; done | egrep -vi '(Average|kbcommit|Linux)' | tr -s ' ' | cut -d " " -f8 | sort -nr | head -n1 | awk '{ total += $1 } END { print total/NR/1024 }') | tr ' ' '\n' | sort -nr | head -n 1 ;\
echo $(for sar in $(find /var/log/sysstat -type f | egrep -i '(bz|xz)' ); do xzcat $sar | sar -q -f ; done | grep Average | tr -s ' ' | cut -d " " -f5 | awk '{ total += $1 } END { print total/NR }' ; for sar in $(find /var/log/sysstat -type f | egrep -vi '(sar|bz|xz)' ); do sar -q -f $sar; done | grep Average | tr -s ' ' | cut -d " " -f5 | awk '{ total += $1 } END { print total/NR }') | tr ' ' '\n' | sort -nr | head -n 1 ;\
echo $(for sar in $(find /var/log/sysstat -type f | egrep -i '(bz|xz)' ); do xzcat $sar | sar -q -f ; done | egrep -vi '(Average|blocked|Linux)' | tr -s " " | cut -d " " -f6 | sort -nr | head -n1 | awk '{ total += $1 } END { print total/NR }' ; for sar in $(find /var/log/sysstat -type f | egrep -vi '(sar|bz|xz)' ); do sar -q -f $sar; done | egrep -vi '(Average|blocked|Linux)' | tr -s " " | cut -d " " -f6 | sort -nr | head -n1 | awk '{ total += $1 } END { print total/NR }') | tr ' ' '\n' | sort -nr | head -n 1 ;\
df -h | sort -hrk 2 ;
